"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[185],{16755:function(D,h,s){s.r(h),s.d(h,{default:function(){return me}});var b=s(5574),$=s.n(b),z=s(66927),P=s(90930),F=s(80854),I=s(9361),N=s(4393),R=s(71230),M=s(15746),m=s(67294),B=s(57838),H=s(96159),W=s(93967),L=s.n(W),U=s(64217),Q=s(53124),V=s(99559),K=n=>{const{value:t,formatter:r,precision:e,decimalSeparator:o,groupSeparator:g="",prefixCls:d}=n;let a;if(typeof r=="function")a=r(t);else{const l=String(t),u=l.match(/^(-?)(\d*)(\.(\d+))?$/);if(!u||l==="-")a=l;else{const f=u[1];let p=u[2]||"0",c=u[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,g),typeof e=="number"&&(c=c.padEnd(e,"0").slice(0,e>0?e:0)),c&&(c=`${o}${c}`),a=[m.createElement("span",{key:"int",className:`${d}-content-value-int`},f,p),c&&m.createElement("span",{key:"decimal",className:`${d}-content-value-decimal`},c)]}}return m.createElement("span",{className:`${d}-content-value`},a)},X=s(14747),Y=s(27036),G=s(45503);const J=n=>{const{componentCls:t,marginXXS:r,padding:e,colorTextDescription:o,titleFontSize:g,colorTextHeading:d,contentFontSize:a,fontFamily:l}=n;return{[`${t}`]:Object.assign(Object.assign({},(0,X.Wf)(n)),{[`${t}-title`]:{marginBottom:r,color:o,fontSize:g},[`${t}-skeleton`]:{paddingTop:e},[`${t}-content`]:{color:d,fontSize:a,fontFamily:l,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:r},[`${t}-content-suffix`]:{marginInlineStart:r}}})}},q=n=>{const{fontSizeHeading3:t,fontSize:r}=n;return{titleFontSize:r,contentFontSize:t}};var _=(0,Y.I$)("Statistic",n=>{const t=(0,G.TS)(n,{});return[J(t)]},q),ee=function(n,t){var r={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(r[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(n);o<e.length;o++)t.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(n,e[o])&&(r[e[o]]=n[e[o]]);return r},w=n=>{const{prefixCls:t,className:r,rootClassName:e,style:o,valueStyle:g,value:d=0,title:a,valueRender:l,prefix:u,suffix:f,loading:p=!1,formatter:c,precision:x,decimalSeparator:T=".",groupSeparator:A=",",onMouseEnter:y,onMouseLeave:S}=n,C=ee(n,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:ge,direction:fe,statistic:j}=m.useContext(Q.E_),v=ge("statistic",t),[pe,ve,xe]=_(v),Z=m.createElement(K,{decimalSeparator:T,groupSeparator:A,prefixCls:v,formatter:c,precision:x,value:d}),ye=L()(v,{[`${v}-rtl`]:fe==="rtl"},j==null?void 0:j.className,r,e,ve,xe),he=(0,U.Z)(C,{aria:!0,data:!0});return pe(m.createElement("div",Object.assign({},he,{className:ye,style:Object.assign(Object.assign({},j==null?void 0:j.style),o),onMouseEnter:y,onMouseLeave:S}),a&&m.createElement("div",{className:`${v}-title`},a),m.createElement(V.Z,{paragraph:!1,loading:p,className:`${v}-skeleton`},m.createElement("div",{style:g,className:`${v}-content`},u&&m.createElement("span",{className:`${v}-content-prefix`},u),l?l(Z):Z,f&&m.createElement("span",{className:`${v}-content-suffix`},f)))))};const te=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function ne(n,t){let r=n;const e=/\[[^\]]*]/g,o=(t.match(e)||[]).map(l=>l.slice(1,-1)),g=t.replace(e,"[]"),d=te.reduce((l,u)=>{let[f,p]=u;if(l.includes(f)){const c=Math.floor(r/p);return r-=c*p,l.replace(new RegExp(`${f}+`,"g"),x=>{const T=x.length;return c.toString().padStart(T,"0")})}return l},g);let a=0;return d.replace(e,()=>{const l=o[a];return a+=1,l})}function ae(n,t){const{format:r=""}=t,e=new Date(n).getTime(),o=Date.now(),g=Math.max(e-o,0);return ne(g,r)}var oe=function(n,t){var r={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(r[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(n);o<e.length;o++)t.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(n,e[o])&&(r[e[o]]=n[e[o]]);return r};const re=1e3/30;function se(n){return new Date(n).getTime()}const ie=n=>{const{value:t,format:r="HH:mm:ss",onChange:e,onFinish:o}=n,g=oe(n,["value","format","onChange","onFinish"]),d=(0,B.Z)(),a=m.useRef(null),l=()=>{o==null||o(),a.current&&(clearInterval(a.current),a.current=null)},u=()=>{const c=se(t);c>=Date.now()&&(a.current=setInterval(()=>{d(),e==null||e(c-Date.now()),c<Date.now()&&l()},re))};m.useEffect(()=>(u(),()=>{a.current&&(clearInterval(a.current),a.current=null)}),[t]);const f=(c,x)=>ae(c,Object.assign(Object.assign({},x),{format:r})),p=c=>(0,H.Tm)(c,{title:void 0});return m.createElement(w,Object.assign({},g,{value:t,valueRender:p,formatter:f}))};var le=m.memo(ie);w.Countdown=le;var E=w,ce=s(96074),k=s(2487),de=s(66309),i=s(85893),O=function(t){var r=t.title,e=t.href,o=t.index,g=t.desc,d=(0,F.useIntl)(),a=I.Z.useToken,l=a(),u=l.token;return(0,i.jsxs)("div",{style:{backgroundColor:u.colorBgContainer,boxShadow:u.boxShadow,borderRadius:"8px",fontSize:"14px",color:u.colorTextSecondary,lineHeight:"22px",padding:"16px 19px",minWidth:"220px",flex:1},children:[(0,i.jsxs)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[(0,i.jsx)("div",{style:{width:48,height:48,lineHeight:"22px",backgroundSize:"100%",textAlign:"center",padding:"8px 16px 16px 12px",color:"#FFF",fontWeight:"bold",backgroundImage:"url('https://gw.alipayobjects.com/zos/bmw-prod/daaf8d50-8e6d-4251-905d-676a24ddfa12.svg')"},children:o}),(0,i.jsx)("div",{style:{fontSize:"16px",color:u.colorText,paddingBottom:8},children:r})]}),(0,i.jsx)("div",{style:{fontSize:"14px",color:u.colorTextSecondary,textAlign:"justify",lineHeight:"22px",marginBottom:8},children:g}),(0,i.jsxs)("a",{href:e,target:"_blank",rel:"noreferrer",children:[d.formatMessage({id:"pages.welcome.learnMore"})," ",">"]})]})},ue=function(){var t,r,e=I.Z.useToken(),o=e.token,g=(0,F.useModel)("@@initialState"),d=g.initialState,a=(0,F.useIntl)(),l=(0,m.useState)(),u=$()(l,2),f=u[0],p=u[1],c=(0,m.useState)(),x=$()(c,2),T=x[0],A=x[1];return(0,m.useEffect)(function(){(0,z.rw)().then(function(y){if(y.success&&y.data){p(y.data);var S=Object.keys(y.data.tops).map(function(C){return{ip:C,count:y.data.tops[C]}});A(S)}})},[]),(0,i.jsxs)(P._z,{children:[(0,i.jsx)(N.Z,{style:{borderRadius:8},bodyStyle:{backgroundImage:(d==null||(t=d.settings)===null||t===void 0?void 0:t.navTheme)==="realDark"?"background-image: linear-gradient(75deg, #1A1B1F 0%, #191C1F 100%)":"background-image: linear-gradient(75deg, #FBFDFF 0%, #F5F7FF 100%)"},children:(0,i.jsxs)("div",{style:{backgroundPosition:"100% -30%",backgroundRepeat:"no-repeat",backgroundSize:"274px auto",backgroundImage:"url('https://gw.alipayobjects.com/mdn/rms_a9745b/afts/img/A*BuFmQqsB2iAAAAAAAAAAAAAAARQnAQ')"},children:[(0,i.jsxs)("div",{style:{fontSize:"20px",color:o.colorTextHeading},children:[a.formatMessage({id:"pages.welcome.link"})," Midjourney Proxy Admin"]}),(0,i.jsx)("p",{style:{fontSize:"14px",color:o.colorTextSecondary,lineHeight:"22px",marginTop:16,marginBottom:32,width:"65%"},children:a.formatMessage({id:"pages.welcome.description"})}),(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[(0,i.jsx)(O,{index:1,href:"https://github.com/trueai-org/midjourney-proxy",title:a.formatMessage({id:"pages.welcome.learn"})+" Midjourney Proxy",desc:a.formatMessage({id:"pages.welcome.midjourney-proxy"})}),(0,i.jsx)(O,{index:3,title:a.formatMessage({id:"pages.welcome.learn"})+" Swagger Api Doc",href:"/swagger",desc:a.formatMessage({id:"pages.activate.apiDoc"})}),(0,i.jsx)(O,{index:2,title:a.formatMessage({id:"pages.welcome.learn"})+" Midjourney Proxy Web UI",href:"https://github.com/trueai-org/midjourney-proxy-webui",desc:a.formatMessage({id:"pages.welcome.midjourney-proxy-webui"})})]})]})}),f&&(0,i.jsxs)(N.Z,{style:{borderRadius:8,marginTop:16},bodyStyle:{backgroundImage:(d==null||(r=d.settings)===null||r===void 0?void 0:r.navTheme)==="realDark"?"background-image: linear-gradient(75deg, #1A1B1F 0%, #191C1F 100%)":"background-image: linear-gradient(75deg, #FBFDFF 0%, #F5F7FF 100%)"},children:[(0,i.jsxs)(R.Z,{gutter:16,children:[(0,i.jsx)(M.Z,{span:8,children:(0,i.jsx)(E,{title:a.formatMessage({id:"pages.welcome.todayDraw"}),value:f.todayDraw})}),(0,i.jsx)(M.Z,{span:8,children:(0,i.jsx)(E,{title:a.formatMessage({id:"pages.welcome.yesterdayDraw"}),value:f.yesterdayDraw})}),(0,i.jsx)(M.Z,{span:8,children:(0,i.jsx)(E,{title:a.formatMessage({id:"pages.welcome.totalDraw"}),value:f.totalDraw})})]}),(0,i.jsx)(ce.Z,{orientation:"left",children:a.formatMessage({id:"pages.welcome.top5"})}),(0,i.jsx)(k.Z,{dataSource:T,renderItem:function(S){return(0,i.jsxs)(k.Z.Item,{children:[(0,i.jsx)(de.Z,{children:S.ip})," ",S.count," ",a.formatMessage({id:"pages.welcome.unit"})]})}})]})]})},me=ue},15746:function(D,h,s){var b=s(21584);h.Z=b.Z},71230:function(D,h,s){var b=s(92820);h.Z=b.Z}}]);
