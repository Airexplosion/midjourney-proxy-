"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[579],{47389:function(F,j,a){var p=a(1413),h=a(67294),x=a(27363),c=a(91146),f=function(m,S){return h.createElement(c.Z,(0,p.Z)((0,p.Z)({},m),{},{ref:S,icon:x.Z}))},g=h.forwardRef(f);j.Z=g},88360:function(F,j,a){a.d(j,{Z:function(){return m}});var p=a(1413),h=a(67294),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},c=x,f=a(91146),g=function(d,O){return h.createElement(f.Z,(0,p.Z)((0,p.Z)({},d),{},{ref:O,icon:c}))},I=h.forwardRef(g),m=I},87707:function(F,j,a){a.r(j),a.d(j,{default:function(){return ge}});var p=a(97857),h=a.n(p),x=a(15009),c=a.n(x),f=a(99289),g=a.n(f),I=a(5574),m=a.n(I),S=a(27986),d=a(53025),O=a(71230),V=a(15746),B=a(4393),v=a(55102),C=a(74656),te=a(37804),M=a(67294),G=a(80854),e=a(85893),se=function(D){var A=D.form,$=D.onSubmit,E=D.record,o=(0,G.useIntl)(),L=(0,M.useState)(!1),R=m()(L,2),b=R[0],T=R[1];return(0,M.useEffect)(function(){A.setFieldsValue(E),E.id=="admin"?T(!0):T(!1),console.log("record",E)}),(0,e.jsx)(d.Z,{form:A,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:$,children:(0,e.jsxs)(O.Z,{gutter:16,children:[(0,e.jsx)(V.Z,{span:12,children:(0,e.jsxs)(B.Z,{type:"inner",children:[(0,e.jsx)(d.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(v.Z,{})}),(0,e.jsx)(d.Z.Item,{required:!0,label:o.formatMessage({id:"pages.user.name"}),name:"name",children:(0,e.jsx)(v.Z,{})}),(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.email"}),name:"email",children:(0,e.jsx)(v.Z,{})}),(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.phone"}),name:"phone",children:(0,e.jsx)(v.Z,{})}),(0,e.jsx)(d.Z.Item,{required:!0,label:o.formatMessage({id:"pages.user.status"}),name:"status",children:(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(C.Z.Option,{value:"NORMAL",children:o.formatMessage({id:"pages.user.normal"})}),(0,e.jsx)(C.Z.Option,{value:"DISABLED",children:o.formatMessage({id:"pages.user.disabled"})})]})}),(0,e.jsx)(d.Z.Item,{required:!0,label:o.formatMessage({id:"pages.user.role"}),name:"role",children:(0,e.jsxs)(C.Z,{disabled:b,children:[(0,e.jsx)(C.Z.Option,{value:"ADMIN",children:o.formatMessage({id:"pages.user.admin"})}),(0,e.jsx)(C.Z.Option,{value:"USER",children:o.formatMessage({id:"pages.user.user"})})]})}),(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.token"}),name:"token",required:!0,extra:(0,e.jsx)("a",{onClick:function(){var w=Array.from({length:32},function(){return Math.random().toString(36).charAt(2)}).join("");A.setFieldsValue({token:w})},children:o.formatMessage({id:"pages.user.refreshToken"})}),children:(0,e.jsx)(v.Z,{})})]})}),(0,e.jsx)(V.Z,{span:12,children:(0,e.jsxs)(B.Z,{type:"inner",children:[(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.dayDrawLimit"}),name:"dayDrawLimit",children:(0,e.jsx)(te.Z,{min:-1})}),(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.registerTime"}),name:"registerTimeFormat",children:(0,e.jsx)(v.Z,{disabled:!0})}),(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.registerIp"}),name:"registerIp",children:(0,e.jsx)(v.Z,{disabled:!0})}),(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.lastLoginTime"}),name:"lastLoginTimeFormat",children:(0,e.jsx)(v.Z,{disabled:!0})}),(0,e.jsx)(d.Z.Item,{label:o.formatMessage({id:"pages.user.lastLoginIp"}),name:"lastLoginIp",children:(0,e.jsx)(v.Z,{disabled:!0})})]})})]})})},H=se,W=a(66927),ne=a(47389),ie=a(82061),le=a(88360),de=a(90930),oe=a(98695),ue=a(16568),y=a(14726),J=a(66309),ce=a(42075),me=a(86738),fe=function(){var D=(0,M.useState)(!1),A=m()(D,2),$=A[0],E=A[1],o=(0,M.useState)({}),L=m()(o,2),R=L[0],b=L[1],T=(0,M.useState)(""),N=m()(T,2),w=N[0],pe=N[1],ve=(0,M.useState)({}),Q=m()(ve,2),Me=Q[0],X=Q[1],je=(0,M.useState)(1e3),Y=m()(je,2),Ze=Y[0],xe=Y[1],Ie=d.Z.useForm(),Se=m()(Ie,1),U=Se[0],s=(0,G.useIntl)(),Ce=ue.ZP.useNotification(),k=m()(Ce,2),P=k[0],Ae=k[1],z=(0,M.useRef)(),K=function(){b({}),X({}),E(!1)},Ee=(0,M.useState)(!1),q=m()(Ee,2),Oe=q[0],_=q[1],ee=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.ZP,{onClick:K,children:s.formatMessage({id:"pages.cancel"})},"back"),(0,e.jsx)(y.ZP,{type:"primary",loading:Oe,onClick:function(){return U.submit()},children:s.formatMessage({id:"pages.submit"})},"submit")]}),ae=function(){var u=g()(c()().mark(function t(n){var r,i;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return _(!0),l.next=3,(0,W.r4)(n);case 3:r=l.sent,r.success?(P.success({message:"success",description:r.message}),K(),(i=z.current)===null||i===void 0||i.reload()):P.error({message:"error",description:r.message}),_(!1);case 6:case"end":return l.stop()}},t)}));return function(n){return u.apply(this,arguments)}}(),re=function(t,n,r,i){U.resetFields(),pe(t),b(n),X(r),xe(i),E(!0)},ye=function(){var u=g()(c()().mark(function t(n){var r,i;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,W.h8)(n);case 3:r=l.sent,r.success?(P.success({message:"success",description:s.formatMessage({id:"pages.task.deleteSuccess"})}),(i=z.current)===null||i===void 0||i.reload()):P.error({message:"error",description:r.message}),l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),console.error(l.t0);case 10:return l.prev=10,l.finish(10);case 12:case"end":return l.stop()}},t,null,[[0,7,10,12]])}));return function(n){return u.apply(this,arguments)}}(),De=[{title:s.formatMessage({id:"pages.user.name"}),dataIndex:"name",width:140,align:"center",fixed:"left"},{title:s.formatMessage({id:"pages.user.email"}),dataIndex:"email",width:140,align:"center"},{title:s.formatMessage({id:"pages.user.phone"}),dataIndex:"phone",width:140,align:"center"},{title:s.formatMessage({id:"pages.user.status"}),dataIndex:"status",width:90,align:"center",request:function(){var u=g()(c()().mark(function n(){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",[{label:s.formatMessage({id:"pages.user.normal"}),value:"NORMAL"},{label:s.formatMessage({id:"pages.user.disabled"}),value:"DISABLED"}]);case 1:case"end":return i.stop()}},n)}));function t(){return u.apply(this,arguments)}return t}(),render:function(t,n){var r="default";return t=="NORMAL"?r="default":t=="DISABLED"&&(r="error"),(0,e.jsx)(J.Z,{color:r,children:n.status})}},{title:s.formatMessage({id:"pages.user.role"}),dataIndex:"role",width:140,showInfo:!1,align:"center",request:function(){var u=g()(c()().mark(function n(){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",[{label:s.formatMessage({id:"pages.user.user"}),value:"USER"},{label:s.formatMessage({id:"pages.user.admin"}),value:"ADMIN"}]);case 1:case"end":return i.stop()}},n)}));function t(){return u.apply(this,arguments)}return t}(),render:function(t,n){var r="default";return t=="USER"?r="default":t=="ADMIN"&&(r="success"),(0,e.jsx)(J.Z,{color:r,children:n.role})}},{title:s.formatMessage({id:"pages.user.dayDrawLimit"}),dataIndex:"dayDrawLimit",width:140,align:"center",hideInSearch:!0,render:function(t,n){return t<0?s.formatMessage({id:"pages.user.unlimited"}):t}},{title:s.formatMessage({id:"pages.user.lastLoginIp"}),dataIndex:"lastLoginIp",width:140,ellipsis:!0,hideInSearch:!0},{title:s.formatMessage({id:"pages.user.lastLoginTime"}),dataIndex:"lastLoginTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:s.formatMessage({id:"pages.user.registerIp"}),dataIndex:"registerIp",width:140,ellipsis:!0,hideInSearch:!0},{title:s.formatMessage({id:"pages.user.registerTime"}),dataIndex:"registerTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:s.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:140,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(t,n){return(0,e.jsxs)(ce.Z,{children:[(0,e.jsx)(y.ZP,{icon:(0,e.jsx)(ne.Z,{}),onClick:function(){return re(s.formatMessage({id:"pages.user.update"}),(0,e.jsx)(H,{form:U,record:n,onSubmit:ae}),ee,1e3)}},"Update"),(0,e.jsx)(me.Z,{title:s.formatMessage({id:"pages.user.delete"}),description:s.formatMessage({id:"pages.user.deleteTitle"}),onConfirm:function(){return ye(n.id)},children:(0,e.jsx)(y.ZP,{danger:!0,icon:(0,e.jsx)(ie.Z,{})})})]})}}];return(0,e.jsxs)(de._z,{children:[Ae,(0,e.jsx)(B.Z,{children:(0,e.jsx)(oe.Z,{columns:De,scroll:{x:1e3},search:{defaultCollapsed:!0},pagination:{pageSize:10,showQuickJumper:!1,showSizeChanger:!1},rowKey:"id",actionRef:z,toolBarRender:function(){return[(0,e.jsx)(y.ZP,{type:"primary",icon:(0,e.jsx)(le.Z,{}),onClick:function(){return re(s.formatMessage({id:"pages.user.add"}),(0,e.jsx)(H,{form:U,record:{},onSubmit:ae}),ee,1e3)},children:s.formatMessage({id:"pages.add"})},"primary")]},request:function(){var u=g()(c()().mark(function t(n){var r;return c()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,W.tM)(h()(h()({},n),{},{pageNumber:n.current-1}));case 2:return r=Z.sent,Z.abrupt("return",{data:r.list,total:r.pagination.total,success:!0});case 4:case"end":return Z.stop()}},t)}));return function(t){return u.apply(this,arguments)}}()})}),(0,e.jsx)(S.Z,{title:w,modalVisible:$,hideModal:K,modalContent:R,footer:Me,modalWidth:Ze})]})},ge=fe},27986:function(F,j,a){var p=a(28248),h=a(85893),x=function(f){var g=f.title,I=f.modalVisible,m=f.hideModal,S=f.modalContent,d=f.footer,O=f.modalWidth;return(0,h.jsx)(p.Z,{title:g,open:I,onCancel:m,footer:d,width:O,children:S})};j.Z=x}}]);
