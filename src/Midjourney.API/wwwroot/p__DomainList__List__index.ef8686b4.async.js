"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[523],{47389:function(w,p,e){var g=e(1413),m=e(67294),x=e(27363),u=e(91146),d=function(i,Z){return m.createElement(u.Z,(0,g.Z)((0,g.Z)({},i),{},{ref:Z,icon:x.Z}))},h=m.forwardRef(d);p.Z=h},51042:function(w,p,e){var g=e(1413),m=e(67294),x=e(42110),u=e(91146),d=function(i,Z){return m.createElement(u.Z,(0,g.Z)((0,g.Z)({},i),{},{ref:Z,icon:x.Z}))},h=m.forwardRef(d);p.Z=h},97202:function(w,p,e){e.r(p),e.d(p,{default:function(){return ce}});var g=e(97857),m=e.n(g),x=e(15009),u=e.n(x),d=e(99289),h=e.n(d),S=e(5574),i=e.n(S),Z=e(27986),c=e(53025),L=e(71230),ee=e(15746),K=e(4393),P=e(55102),$=e(72269),te=e(37804),v=e(67294),V=e(80854),t=e(85893),ae=function(C){var I=C.form,W=C.onSubmit,y=C.record,M=(0,V.useIntl)(),O=(0,v.useState)(!1),R=i()(O,2),F=R[0],D=R[1];return(0,v.useEffect)(function(){I.setFieldsValue(y),y.id=="admin"?D(!0):D(!1),console.log("record",y)}),(0,t.jsx)(c.Z,{form:I,labelAlign:"left",layout:"horizontal",labelCol:{span:4},wrapperCol:{span:20},onFinish:W,children:(0,t.jsx)(L.Z,{gutter:16,children:(0,t.jsx)(ee.Z,{span:24,children:(0,t.jsxs)(K.Z,{type:"inner",children:[(0,t.jsx)(c.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,t.jsx)(P.Z,{})}),(0,t.jsx)(c.Z.Item,{required:!0,label:M.formatMessage({id:"pages.domain.name"}),name:"name",children:(0,t.jsx)(P.Z,{})}),(0,t.jsx)(c.Z.Item,{label:M.formatMessage({id:"pages.domain.description"}),name:"description",children:(0,t.jsx)(P.Z,{})}),(0,t.jsx)(c.Z.Item,{label:M.formatMessage({id:"pages.domain.enable"}),name:"enable",children:(0,t.jsx)($.Z,{})}),(0,t.jsx)(c.Z.Item,{label:M.formatMessage({id:"pages.domain.sort"}),name:"sort",children:(0,t.jsx)(te.Z,{})}),(0,t.jsx)(c.Z.Item,{label:M.formatMessage({id:"pages.domain.keywords"}),name:"keywords",tooltip:M.formatMessage({id:"pages.domain.keywords.tooltip"}),children:(0,t.jsx)(P.Z.TextArea,{placeholder:"cat, dog, fish",autoSize:{minRows:1,maxRows:20},allowClear:!0})})]})})})})},z=ae,U=e(66927),ne=e(47389),se=e(82061),re=e(51042),ie=e(90930),oe=e(98695),de=e(16568),E=e(14726),le=e(42075),ue=e(86738),me=function(){var C=(0,v.useState)(!1),I=i()(C,2),W=I[0],y=I[1],M=(0,v.useState)({}),O=i()(M,2),R=O[0],F=O[1],D=(0,v.useState)(""),N=i()(D,2),ge=N[0],he=N[1],ve=(0,v.useState)({}),k=i()(ve,2),pe=k[0],G=k[1],Me=(0,v.useState)(1e3),H=i()(Me,2),je=H[0],xe=H[1],Ze=c.Z.useForm(),ye=i()(Ze,1),T=ye[0],s=(0,V.useIntl)(),Se=de.ZP.useNotification(),J=i()(Se,2),A=J[0],Ee=J[1],b=(0,v.useRef)(),B=function(){F({}),G({}),y(!1)},Ce=(0,v.useState)(!1),Q=i()(Ce,2),Ie=Q[0],X=Q[1],Y=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.ZP,{onClick:B,children:s.formatMessage({id:"pages.cancel"})},"back"),(0,t.jsx)(E.ZP,{type:"primary",loading:Ie,onClick:function(){return T.submit()},children:s.formatMessage({id:"pages.submit"})},"submit")]}),q=function(){var l=h()(u()().mark(function o(a){var r,f;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return X(!0),a.keywords||(a.keywords=[]),typeof a.keywords=="string"&&(a.keywords=a.keywords.split(",")),n.next=5,(0,U.Fj)(a);case 5:r=n.sent,r.success?(A.success({message:"success",description:r.message}),B(),(f=b.current)===null||f===void 0||f.reload()):A.error({message:"error",description:r.message}),X(!1);case 8:case"end":return n.stop()}},o)}));return function(a){return l.apply(this,arguments)}}(),_=function(o,a,r,f){T.resetFields(),he(o),F(a),G(r),xe(f),y(!0)},Pe=function(){var l=h()(u()().mark(function o(a){var r,f;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,U.dj)(a);case 3:r=n.sent,r.success?(A.success({message:"success",description:s.formatMessage({id:"pages.task.deleteSuccess"})}),(f=b.current)===null||f===void 0||f.reload()):A.error({message:"error",description:r.message}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:return n.prev=10,n.finish(10);case 12:case"end":return n.stop()}},o,null,[[0,7,10,12]])}));return function(a){return l.apply(this,arguments)}}(),Oe=[{title:s.formatMessage({id:"pages.domain.name"}),dataIndex:"name",width:160,align:"left",fixed:"left"},{title:s.formatMessage({id:"pages.domain.description"}),dataIndex:"description",width:160,align:"left"},{title:s.formatMessage({id:"pages.domain.keywords"}),dataIndex:"keywords",width:120,align:"left",render:function(o,a){return(0,t.jsxs)("span",{children:[(a==null?void 0:a.keywords.length)||"0"," ",s.formatMessage({id:"pages.domain.keywords"})]})}},{title:s.formatMessage({id:"pages.domain.enable"}),dataIndex:"enable",width:80,showInfo:!1,hideInSearch:!0,align:"left",render:function(o,a){return(0,t.jsx)($.Z,{disabled:!0,checked:a.enable})}},{title:s.formatMessage({id:"pages.domain.weight"}),dataIndex:"weight",width:80,align:"left",hideInSearch:!0},{title:s.formatMessage({id:"pages.domain.createTime"}),dataIndex:"createTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:s.formatMessage({id:"pages.domain.updateTime"}),dataIndex:"updateTimeFormat",width:140,ellipsis:!0,hideInSearch:!0},{title:s.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:140,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(o,a){return(0,t.jsxs)(le.Z,{children:[(0,t.jsx)(E.ZP,{icon:(0,t.jsx)(ne.Z,{}),onClick:function(){return _(s.formatMessage({id:"pages.domain.update"}),(0,t.jsx)(z,{form:T,record:a,onSubmit:q}),Y,1e3)}},"Update"),(0,t.jsx)(ue.Z,{title:s.formatMessage({id:"pages.domain.delete"}),description:s.formatMessage({id:"pages.domain.deleteTitle"}),onConfirm:function(){return Pe(a.id)},children:(0,t.jsx)(E.ZP,{danger:!0,icon:(0,t.jsx)(se.Z,{})})})]})}}];return(0,t.jsxs)(ie._z,{children:[Ee,(0,t.jsx)(K.Z,{children:(0,t.jsx)(oe.Z,{columns:Oe,scroll:{x:1e3},search:{defaultCollapsed:!0},pagination:{pageSize:10,showQuickJumper:!1,showSizeChanger:!1},rowKey:"id",actionRef:b,toolBarRender:function(){return[(0,t.jsx)(E.ZP,{type:"primary",icon:(0,t.jsx)(re.Z,{}),onClick:function(){return _(s.formatMessage({id:"pages.domain.add"}),(0,t.jsx)(z,{form:T,record:{},onSubmit:q}),Y,1e3)},children:s.formatMessage({id:"pages.add"})},"primary")]},request:function(){var l=h()(u()().mark(function o(a){var r;return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return a.keywords&&typeof a.keywords=="string"&&(a.keywords=a.keywords.split(",")),j.next=3,(0,U.Kh)(m()(m()({},a),{},{pageNumber:a.current-1}));case 3:return r=j.sent,j.abrupt("return",{data:r.list,total:r.pagination.total,success:!0});case 5:case"end":return j.stop()}},o)}));return function(o){return l.apply(this,arguments)}}()})}),(0,t.jsx)(Z.Z,{title:ge,modalVisible:W,hideModal:B,modalContent:R,footer:pe,modalWidth:je})]})},ce=me},27986:function(w,p,e){var g=e(28248),m=e(85893),x=function(d){var h=d.title,S=d.modalVisible,i=d.hideModal,Z=d.modalContent,c=d.footer,L=d.modalWidth;return(0,m.jsx)(g.Z,{title:h,open:S,onCancel:i,footer:c,width:L,children:Z})};p.Z=x}}]);
