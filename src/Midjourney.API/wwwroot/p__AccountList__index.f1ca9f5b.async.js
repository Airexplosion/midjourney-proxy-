"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[201],{2891:function(oa,Me,o){o.r(Me),o.d(Me,{default:function(){return aa}});var be=o(15009),x=o.n(be),Se=o(99289),$=o.n(Se),Ce=o(5574),p=o.n(Ce),V=o(66927),oe=o(16568),Ie=o(86738),L=o(14726),ye=o(82061),u=o(67294),ne=o(80854),e=o(85893),we=function(j){var v=j.record,r=j.onSuccess,t=(0,u.useState)(!1),n=p()(t,2),A=n[0],M=n[1],N=(0,u.useState)(!1),k=p()(N,2),U=k[0],H=k[1],C=oe.ZP.useNotification(),J=p()(C,2),z=J[0],q=J[1],P=(0,ne.useIntl)(),Y=function(){M(!0)},K=function(){var R=$()(x()().mark(function B(){var b;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return H(!0),i.prev=1,i.next=4,(0,V.tm)(v.id);case 4:b=i.sent,M(!1),b.success?(z.success({message:"success",description:P.formatMessage({id:"pages.account.deleteSuccess"})}),r()):z.error({message:"error",description:b.message}),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),console.error(i.t0);case 12:return i.prev=12,H(!1),i.finish(12);case 15:case"end":return i.stop()}},B,null,[[1,9,12,15]])}));return function(){return R.apply(this,arguments)}}(),ee=function(){M(!1)};return(0,e.jsxs)(Ie.Z,{title:P.formatMessage({id:"pages.account.delete"}),description:P.formatMessage({id:"pages.account.deleteTitle"}),open:A,onConfirm:K,okButtonProps:{loading:U},onCancel:ee,children:[q,(0,e.jsx)(L.ZP,{danger:!0,icon:(0,e.jsx)(ye.Z,{}),onClick:Y})]})},Ae=we,ue=o(98165),ke=function(j){var v=j.record,r=j.onSuccess,t=(0,u.useState)(!1),n=p()(t,2),A=n[0],M=n[1],N=(0,u.useState)(!1),k=p()(N,2),U=k[0],H=k[1],C=oe.ZP.useNotification(),J=p()(C,2),z=J[0],q=J[1],P=(0,ne.useIntl)(),Y=function(){M(!0)},K=function(){var R=$()(x()().mark(function B(){var b;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return H(!0),i.prev=1,i.next=4,(0,V.Je)(v.id);case 4:b=i.sent,console.log("resss",b),M(!1),b.success?(z.success({message:"success",description:P.formatMessage({id:"pages.account.syncSuccess"})}),r()):(z.error({message:"error",description:b.message}),r()),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),console.error(i.t0);case 13:return i.prev=13,H(!1),i.finish(13);case 16:case"end":return i.stop()}},B,null,[[1,10,13,16]])}));return function(){return R.apply(this,arguments)}}(),ee=function(){M(!1)};return(0,e.jsxs)(Ie.Z,{title:P.formatMessage({id:"pages.account.sync"}),description:P.formatMessage({id:"pages.account.syncTitle"}),open:A,onConfirm:K,okButtonProps:{loading:U},onCancel:ee,children:[q,(0,e.jsx)(L.ZP,{icon:(0,e.jsx)(ue.Z,{}),onClick:Y})]})},Te=ke,a=o(53025),de=o(71230),_=o(15746),F=o(4393),f=o(55102),O=o(72269),I=o(74656),S=o(37804),Oe=function(j){var v=j.form,r=j.onSubmit,t=(0,ne.useIntl)();(0,u.useEffect)(function(){v.setFieldsValue({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",coreSize:3,queueSize:10,timeoutMinutes:5})});var n=(0,u.useState)([]),A=p()(n,2),M=A[0],N=A[1];return(0,u.useEffect)(function(){(0,V.fl)().then(function(k){k.success&&N(k.data)})},[]),(0,e.jsx)(a.Z,{form:v,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:(0,e.jsxs)(de.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:t.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.botToken"}),name:"botToken",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(I.Z,{allowClear:!0,children:[(0,e.jsx)(I.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(I.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(I.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",children:(0,e.jsxs)(I.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(I.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(I.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(I.Z.Option,{value:"TURBO",children:"TURBO"})]})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:t.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(S.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",children:(0,e.jsx)(S.Z,{min:-1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(I.Z,{options:M,allowClear:!0,mode:"multiple"})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:t.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(S.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(S.Z,{min:1,suffix:t.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(f.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",help:t.formatMessage({id:"pages.account.subChannelsHelp"}),children:(0,e.jsx)(f.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:1,maxRows:10}})})]})})]})})},Re=Oe,me=o(42075),Be=function(j){var v=j.form,r=j.onSubmit,t=j.record,n=(0,ne.useIntl)(),A=oe.ZP.useNotification(),M=p()(A,2),N=M[0],k=M[1],U=(0,u.useState)(),H=p()(U,2),C=H[0],J=H[1],z=(0,u.useState)(!1),q=p()(z,2),P=q[0],Y=q[1];(0,u.useEffect)(function(){J(t)},[]);var K=function(){var R=$()(x()().mark(function B(){var b;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Y(!0),i.next=3,(0,V.qG)(t.id);case 3:b=i.sent,Y(!1),b.success&&J(b.data);case 6:case"end":return i.stop()}},B)}));return function(){return R.apply(this,arguments)}}(),ee=function(){var R=$()(x()().mark(function B(){var b;return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Y(!0),i.next=3,(0,V.eD)(t.id);case 3:b=i.sent,Y(!1),b.success&&(N.success({message:"success",description:"Success"}),r(C));case 6:case"end":return i.stop()}},B)}));return function(){return R.apply(this,arguments)}}();return(0,e.jsxs)(a.Z,{form:v,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[k,(0,e.jsx)(de.Z,{gutter:16,children:(0,e.jsxs)(_.Z,{span:24,style:{padding:12},children:[C&&(0,e.jsx)("a",{target:"_blank",rel:"noreferrer",href:C==null?void 0:C.cfUrl,children:(C==null?void 0:C.cfUrl)||"-"}),(0,e.jsx)("br",{}),(0,e.jsxs)(me.Z,{style:{marginTop:12},children:[(0,e.jsx)(L.ZP,{onClick:K,loading:P,type:"default",children:n.formatMessage({id:"pages.account.cfRefresh"})}),(0,e.jsx)(L.ZP,{onClick:ee,loading:P,type:"primary",children:n.formatMessage({id:"pages.account.cfok"})})]})]})})]})},De=Be,ie=o(66309),le=o(83062),d=o(26412),Fe=o(27484),Ne=o.n(Fe),Ue=I.Z.Option,Pe=function(j){var v,r=j.record,t=j.onSuccess,n=oe.ZP.useNotification(),A=p()(n,2),M=A[0],N=A[1],k=(0,u.useState)(""),U=p()(k,2),H=U[0],C=U[1],J=(0,u.useState)([]),z=p()(J,2),q=z[0],P=z[1],Y=(0,u.useState)([]),K=p()(Y,2),ee=K[0],R=K[1],B=(0,u.useState)(!1),b=p()(B,2),X=b[0],i=b[1],ge=(0,u.useState)(""),ae=p()(ge,2),ce=ae[0],fe=ae[1],l=(0,ne.useIntl)();(0,u.useEffect)(function(){C(r.version),P(r.buttons),R(r.nijiButtons)},[r]);var pe=function(c,y,G){var Q=c?"green":"volcano",T=c?y:G;return(0,e.jsx)(ie.Z,{color:Q,children:T})},E=function(c){return!c||c.length<25?c:(0,e.jsx)(le.Z,{title:c,children:c.substring(0,25)+"..."})},m=function(c){return Ne()(c).format("YYYY-MM-DD HH:mm")},xe=function(){var c;return(c=r.versionSelector)===null||c===void 0?void 0:c.map(function(y){return(0,e.jsxs)(Ue,{value:y.customId,children:[y.emoji," ",y.label]},y.customId)})},he=function(){return q.map(function(c){return(0,e.jsxs)(L.ZP,{ghost:!0,style:{backgroundColor:c.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){je("MID_JOURNEY",c.customId)},loading:ce=="MID_JOURNEY:"+c.customId,children:[c.emoji," ",c.label]},"MID_JOURNEY:"+c.customId)})},Ze=function(){return ee.map(function(c){return(0,e.jsxs)(L.ZP,{ghost:!0,style:{backgroundColor:c.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){je("NIJI_JOURNEY",c.customId)},loading:ce=="NIJI_JOURNEY:"+c.customId,children:[c.emoji," ",c.label]},"NIJI_JOURNEY:"+c.customId)})},ve=function(){var W=$()(x()().mark(function c(y){var G;return x()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return C(y),i(!0),T.next=4,(0,V.p3)(r.id,y);case 4:G=T.sent,G.success?(i(!1),M.success({message:"success",description:l.formatMessage({id:"pages.account.mjVersionSuccess"})}),t()):(C(r.version),i(!1),M.error({message:"error",description:G.message}));case 6:case"end":return T.stop()}},c)}));return function(y){return W.apply(this,arguments)}}(),je=function(){var W=$()(x()().mark(function c(y,G){var Q;return x()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(ce===""){se.next=2;break}return se.abrupt("return");case 2:return fe(y+":"+G),se.next=5,(0,V.wO)(r.id,y,G);case 5:Q=se.sent,fe(""),Q.success?t():M.error({message:"error",description:Q.message});case 8:case"end":return se.stop()}},c)}));return function(y,G){return W.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[N,(0,e.jsx)(F.Z,{type:"inner",title:l.formatMessage({id:"pages.account.info"}),style:{margin:"5px"},children:(0,e.jsxs)(d.Z,{column:3,children:[(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.guildId"}),children:r.guildId}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.channelId"}),children:r.channelId}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.userToken"}),children:E(r.userToken)}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.botToken"}),children:E(r.botToken)}),(0,e.jsxs)(d.Z.Item,{label:"User Agent",children:[E(r.userAgent)," "]}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.remixAutoSubmit"}),children:pe(r.remixAutoSubmit,l.formatMessage({id:"pages.yes"}),l.formatMessage({id:"pages.no"}))}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.mjChannelId"}),children:r.privateChannelId}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.nijiChannelId"}),children:r.nijiBotChannelId})]})}),(0,e.jsx)(F.Z,{type:"inner",title:l.formatMessage({id:"pages.account.basicInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(d.Z,{column:3,children:[(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.status"}),children:pe(r.enable,l.formatMessage({id:"pages.enable"}),l.formatMessage({id:"pages.disable"}))}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.mjMode"}),children:r.displays.mode}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.nijiMode"}),children:r.displays.nijiMode}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.subscribePlan"}),children:r.displays.subscribePlan}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.billedWay"}),children:r.displays.billedWay}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.renewDate"}),children:r.displays.renewDate}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.fastTimeRemaining"}),children:r.fastTimeRemaining}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.relaxedUsage"}),children:r.relaxedUsage}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.fastUsage"}),children:r.fastUsage}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.turboUsage"}),children:r.turboUsage}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.lifetimeUsage"}),children:r.lifetimeUsage})]})}),(0,e.jsx)(F.Z,{type:"inner",title:l.formatMessage({id:"pages.account.otherInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(d.Z,{column:3,children:[(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.coreSize"}),children:r.coreSize}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.queueSize"}),children:r.queueSize}),(0,e.jsxs)(d.Z.Item,{label:l.formatMessage({id:"pages.account.timeoutMinutes"}),children:[r.timeoutMinutes," ",l.formatMessage({id:"pages.minutes"})]}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.weight"}),children:r.weight}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.dateCreated"}),children:m(r.dateCreated)}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.remark"}),children:E(r.remark)}),(0,e.jsx)(d.Z.Item,{label:l.formatMessage({id:"pages.account.disabledReason"}),children:E(r.disabledReason)})]})}),(0,e.jsxs)(F.Z,{type:"inner",title:l.formatMessage({id:"pages.account.mjSettings"}),style:{margin:"5px"},children:[(0,e.jsx)(I.Z,{style:{width:"35%"},placeholder:(v=r.versionSelector)===null||v===void 0?void 0:v.placeholder,value:H,onChange:ve,loading:X,children:xe()}),(0,e.jsx)(me.Z,{wrap:!0,style:{marginTop:"5px"},children:he()})]}),(0,e.jsx)(F.Z,{type:"inner",title:l.formatMessage({id:"pages.account.nijiSettings"}),style:{margin:"5px"},children:(0,e.jsx)(me.Z,{wrap:!0,style:{marginTop:"5px"},children:Ze()})})]})},Ee=Pe,Le=o(40056),ze=function(j){var v=j.form,r=j.onSubmit,t=j.record,n=(0,ne.useIntl)();(0,u.useEffect)(function(){v.setFieldsValue(t)});var A=(0,u.useState)([]),M=p()(A,2),N=M[0],k=M[1];return(0,u.useEffect)(function(){(0,V.fl)().then(function(U){U.success&&k(U.data)})},[]),(0,e.jsxs)(a.Z,{form:v,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:[(0,e.jsxs)(de.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:n.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.botToken"}),name:"botToken",rules:[{required:!0}],children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(I.Z,{allowClear:!0,children:[(0,e.jsx)(I.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(I.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(I.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",tooltip:"\u5982\u679C\u7528\u6237\u6307\u5B9A\u6A21\u5F0F\u6216\u6DFB\u52A0\u4E86\u81EA\u5B9A\u4E49\u53C2\u6570\u4F8B\u5982 --fast\uFF0C\u4F46\u662F\u8D26\u53F7\u4E0D\u5141\u8BB8 FAST\uFF0C\u5219\u81EA\u52A8\u79FB\u9664\u6B64\u53C2\u6570",children:(0,e.jsxs)(I.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(I.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(I.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(I.Z.Option,{value:"TURBO",children:"TURBO"})]})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:n.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(S.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",extra:t.dayDrawCount>0&&(0,e.jsxs)("span",{children:[n.formatMessage({id:"pages.account.dayDrawCount"})," ",t.dayDrawCount]}),children:(0,e.jsx)(S.Z,{min:-1})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(I.Z,{options:N,allowClear:!0,mode:"multiple"})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(F.Z,{type:"inner",title:n.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(S.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(S.Z,{min:1,suffix:n.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(f.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",help:n.formatMessage({id:"pages.account.subChannelsHelp"}),children:(0,e.jsx)(f.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:1,maxRows:10}})})]})})]}),(0,e.jsx)(Le.Z,{message:n.formatMessage({id:"pages.account.updateNotice"}),type:"warning",style:{marginTop:"10px"}})]})},$e=ze,Ve=function(j){var v=j.form,r=j.onSubmit,t=j.record,n=(0,ne.useIntl)();return(0,u.useEffect)(function(){v.setFieldsValue(t)}),(0,e.jsx)(a.Z,{form:v,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:r,children:(0,e.jsxs)(de.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:12,children:(0,e.jsxs)(F.Z,{type:"inner",title:n.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(O.Z,{})})]})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsxs)(F.Z,{type:"inner",title:n.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(S.Z,{min:1,suffix:n.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(S.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(f.Z,{})}),(0,e.jsx)(a.Z.Item,{label:n.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(S.Z,{})})]})})]})})},He=Ve,Je=o(94149),Ye=o(66212),Xe=o(3355),We=o(2830),Ge=o(47389),Qe=o(88360),Ke=o(90930),qe=o(72051),_e=o(28248),ea=function(){var j=(0,u.useState)(!1),v=p()(j,2),r=v[0],t=v[1],n=(0,u.useState)(!1),A=p()(n,2),M=A[0],N=A[1],k=(0,u.useState)((0,e.jsx)(e.Fragment,{})),U=p()(k,2),H=U[0],C=U[1],J=(0,u.useState)(""),z=p()(J,2),q=z[0],P=z[1],Y=(0,u.useState)(1e3),K=p()(Y,2),ee=K[0],R=K[1],B=a.Z.useForm(),b=p()(B,1),X=b[0],i=oe.ZP.useNotification(),ge=p()(i,2),ae=ge[0],ce=ge[1],fe=(0,u.useState)(!1),l=p()(fe,2),pe=l[0],E=l[1],m=(0,ne.useIntl)(),xe=(0,u.useState)([]),he=p()(xe,2),Ze=he[0],ve=he[1],je=(0,u.useState)(!1),W=p()(je,2),c=W[0],y=W[1],G=function(){var Z=$()(x()().mark(function h(){var s;return x()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return y(!0),D.next=3,(0,V.Ed)();case 3:s=D.sent,ve(s),y(!1);case 6:case"end":return D.stop()}},h)}));return function(){return Z.apply(this,arguments)}}(),Q=function(h,s,g){X.resetFields(),P(h),C(s),R(g),t(!0)},T=function(){C((0,e.jsx)(e.Fragment,{})),t(!1),N(!1)},se=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(L.ZP,{onClick:T,children:m.formatMessage({id:"pages.cancel"})},"back"),(0,e.jsx)(L.ZP,{type:"primary",loading:pe,onClick:function(){return X.submit()},children:m.formatMessage({id:"pages.submit"})},"submit")]}),te=function(){T(),G()},sa=function(){var Z=$()(x()().mark(function h(s){var g;return x()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s.subChannels||(s.subChannels=[]),typeof s.subChannels=="string"&&(s.subChannels=s.subChannels.split(`
`)),E(!0),w.next=5,(0,V.o1)(s);case 5:g=w.sent,E(!1),console.log("res",g),g.success?(ae.success({message:"success",description:g.message}),T(),te()):ae.error({message:"error",description:g.message});case 9:case"end":return w.stop()}},h)}));return function(s){return Z.apply(this,arguments)}}(),na=function(){var Z=$()(x()().mark(function h(s){var g;return x()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s.subChannels||(s.subChannels=[]),typeof s.subChannels=="string"&&(s.subChannels=s.subChannels.split(`
`)),E(!0),w.next=5,(0,V.MS)(s.id,s);case 5:g=w.sent,g.success?(ae.success({message:"success",description:g.message}),T(),te(),E(!1)):ae.error({message:"error",description:g.message});case 7:case"end":return w.stop()}},h)}));return function(s){return Z.apply(this,arguments)}}(),ta=function(){var Z=$()(x()().mark(function h(s){var g;return x()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s.subChannels||(s.subChannels=[]),typeof s.subChannels=="string"&&(s.subChannels=s.subChannels.split(`
`)),E(!0),w.next=5,(0,V.Vx)(s.id,s);case 5:g=w.sent,g.success?ae.success({message:"success",description:g.message}):ae.error({message:"error",description:g.message}),T(),te(),E(!1);case 10:case"end":return w.stop()}},h)}));return function(s){return Z.apply(this,arguments)}}(),ra=function(){var Z=$()(x()().mark(function h(){return x()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:E(!0),T(),te(),E(!1);case 4:case"end":return g.stop()}},h)}));return function(){return Z.apply(this,arguments)}}(),ia=[{title:m.formatMessage({id:"pages.account.guildId"}),dataIndex:"guildId",width:200,align:"center",render:function(h,s){return(0,e.jsx)("a",{onClick:function(){N(!0),Q(m.formatMessage({id:"pages.account.info"})+" - "+s.id,(0,e.jsx)(Ee,{record:s,onSuccess:te}),1100)},children:h})}},{title:m.formatMessage({id:"pages.account.channelId"}),dataIndex:"channelId",align:"center",width:200},{title:"".concat(m.formatMessage({id:"pages.account.status"})),dataIndex:"enable",width:200,align:"center",request:function(){var Z=$()(x()().mark(function s(){return x()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",[{label:m.formatMessage({id:"pages.enable"}),value:"true"},{label:m.formatMessage({id:"pages.disable"}),value:"false"}]);case 1:case"end":return D.stop()}},s)}));function h(){return Z.apply(this,arguments)}return h}(),render:function(h,s){var g=h?"green":"volcano",D=h?m.formatMessage({id:"pages.enable"}):m.formatMessage({id:"pages.disable"});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ie.Z,{color:g,children:D}),s.lock&&(0,e.jsx)(ie.Z,{icon:(0,e.jsx)(Je.Z,{}),color:"warning",children:(0,e.jsx)(le.Z,{title:m.formatMessage({id:"pages.account.lockmsg"}),children:m.formatMessage({id:"pages.account.lock"})})}),h&&!s.running&&!s.lock&&(0,e.jsx)(ie.Z,{icon:(0,e.jsx)(ue.Z,{}),color:"error",children:m.formatMessage({id:"pages.account.notRunning"})}),(s==null?void 0:s.runningCount)>0&&(0,e.jsx)(ie.Z,{icon:(0,e.jsx)(ue.Z,{spin:!0}),color:"cyan",children:(0,e.jsx)(le.Z,{title:m.formatMessage({id:"pages.account.runningCount"})+" "+s.runningCount,children:(s==null?void 0:s.runningCount)||0})}),(s==null?void 0:s.queueCount)>0&&(0,e.jsx)(ie.Z,{icon:(0,e.jsx)(Ye.Z,{}),color:"processing",children:(0,e.jsx)(le.Z,{title:m.formatMessage({id:"pages.account.queueCount"})+" "+s.queueCount,children:s.queueCount||0})})]})}},{title:m.formatMessage({id:"pages.account.fastTimeRemaining"}),dataIndex:"fastTimeRemaining",ellipsis:!0,width:200,hideInSearch:!0,align:"center"},{title:m.formatMessage({id:"pages.account.renewDate"}),dataIndex:"renewDate",align:"center",width:160,hideInSearch:!0,render:function(h,s){return s.displays.renewDate}},{title:m.formatMessage({id:"pages.account.sponsor"}),dataIndex:"sponsor",ellipsis:!0,width:100,render:function(h,s){return(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:s.sponsor||"-"}})}},{title:m.formatMessage({id:"pages.account.remark"}),dataIndex:"remark",ellipsis:!0,width:150},{title:m.formatMessage({id:"pages.account.disabledReason"}),dataIndex:"disabledReason",ellipsis:!0,width:150,hideInSearch:!0},{title:m.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:220,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(h,s){return(0,e.jsxs)(me.Z,{children:[s.lock&&(0,e.jsx)(L.ZP,{icon:(0,e.jsx)(Xe.Z,{}),type:"dashed",onClick:function(){return Q(m.formatMessage({id:"pages.account.cfmodal"}),(0,e.jsx)(De,{form:X,record:s,onSubmit:ra}),1e3)}},"Lock"),(0,e.jsx)(Te,{record:s,onSuccess:te}),(0,e.jsx)(le.Z,{title:m.formatMessage({id:"pages.account.updateAndReconnect"}),children:(0,e.jsx)(L.ZP,{type:"primary",icon:(0,e.jsx)(We.Z,{}),onClick:function(){return Q(m.formatMessage({id:"pages.account.updateAndReconnect"}),(0,e.jsx)($e,{form:X,record:s,onSubmit:na}),1600)}},"EditAndReconnect")}),(0,e.jsx)(L.ZP,{icon:(0,e.jsx)(Ge.Z,{}),onClick:function(){return Q(m.formatMessage({id:"pages.account.update"}),(0,e.jsx)(He,{form:X,record:s,onSubmit:ta}),1e3)}},"Update"),(0,e.jsx)(Ae,{record:s,onSuccess:te})]})}}];return(0,u.useEffect)(function(){G()},[]),(0,e.jsxs)(Ke._z,{children:[ce,(0,e.jsxs)(F.Z,{children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:16},children:[(0,e.jsx)(L.ZP,{type:"primary",icon:(0,e.jsx)(Qe.Z,{}),onClick:function(){Q(m.formatMessage({id:"pages.account.add"}),(0,e.jsx)(Re,{form:X,onSubmit:sa}),1600)},children:m.formatMessage({id:"pages.add"})},"primary"),(0,e.jsx)(L.ZP,{type:"default",style:{marginLeft:8},icon:(0,e.jsx)(ue.Z,{}),onClick:function(){te()}})]}),(0,e.jsx)(qe.Z,{scroll:{x:1e3},rowKey:"id",columns:ia,dataSource:Ze,loading:c,pagination:!1})]}),(0,e.jsx)(_e.Z,{title:q,open:r,onCancel:T,footer:M?null:se,width:ee,children:H})]})},aa=ea}}]);
