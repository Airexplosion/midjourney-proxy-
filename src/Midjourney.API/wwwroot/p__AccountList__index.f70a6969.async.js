"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[201],{2891:function(sa,ve,l){l.r(ve),l.d(ve,{default:function(){return aa}});var Se=l(97857),Me=l.n(Se),Ce=l(15009),S=l.n(Ce),ye=l(99289),X=l.n(ye),Te=l(5574),p=l.n(Te),W=l(66927),oe=l(16568),be=l(86738),$=l(14726),we=l(82061),m=l(67294),se=l(80854),e=l(85893),ke=function(v){var b=v.record,i=v.onSuccess,s=(0,m.useState)(!1),j=p()(s,2),t=j[0],w=j[1],z=(0,m.useState)(!1),L=p()(z,2),D=L[0],N=L[1],M=oe.ZP.useNotification(),U=p()(M,2),k=U[0],E=U[1],R=(0,se.useIntl)(),F=function(){w(!0)},P=function(){var I=X()(S()().mark(function O(){var Z;return S()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return N(!0),r.prev=1,r.next=4,(0,W.tm)(b.id);case 4:Z=r.sent,w(!1),Z.success?(k.success({message:"success",description:R.formatMessage({id:"pages.account.deleteSuccess"})}),i()):k.error({message:"error",description:Z.message}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0);case 12:return r.prev=12,N(!1),r.finish(12);case 15:case"end":return r.stop()}},O,null,[[1,9,12,15]])}));return function(){return I.apply(this,arguments)}}(),Y=function(){w(!1)};return(0,e.jsxs)(be.Z,{title:R.formatMessage({id:"pages.account.delete"}),description:R.formatMessage({id:"pages.account.deleteTitle"}),open:t,onConfirm:P,okButtonProps:{loading:D},onCancel:Y,children:[E,(0,e.jsx)($.ZP,{danger:!0,icon:(0,e.jsx)(we.Z,{}),onClick:F})]})},Ae=ke,he=l(98165),Re=function(v){var b=v.record,i=v.onSuccess,s=(0,m.useState)(!1),j=p()(s,2),t=j[0],w=j[1],z=(0,m.useState)(!1),L=p()(z,2),D=L[0],N=L[1],M=oe.ZP.useNotification(),U=p()(M,2),k=U[0],E=U[1],R=(0,se.useIntl)(),F=function(){w(!0)},P=function(){var I=X()(S()().mark(function O(){var Z;return S()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return N(!0),r.prev=1,r.next=4,(0,W.Je)(b.id);case 4:Z=r.sent,console.log("resss",Z),w(!1),Z.success?(k.success({message:"success",description:R.formatMessage({id:"pages.account.syncSuccess"})}),i()):(k.error({message:"error",description:Z.message}),i()),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),console.error(r.t0);case 13:return r.prev=13,N(!1),r.finish(13);case 16:case"end":return r.stop()}},O,null,[[1,10,13,16]])}));return function(){return I.apply(this,arguments)}}(),Y=function(){w(!1)};return(0,e.jsxs)(be.Z,{title:R.formatMessage({id:"pages.account.sync"}),description:R.formatMessage({id:"pages.account.syncTitle"}),open:t,onConfirm:P,okButtonProps:{loading:D},onCancel:Y,children:[E,(0,e.jsx)($.ZP,{icon:(0,e.jsx)(he.Z,{}),onClick:F})]})},Oe=Re,a=l(53025),de=l(71230),_=l(15746),V=l(4393),d=l(55102),A=l(72269),T=l(85886),y=l(37804),re=l(42075),xe=l(17910),je=l(38437),Ie=l(5785),Fe=function(v){var b=v.form,i=v.onSubmit,s=(0,se.useIntl)();(0,m.useEffect)(function(){b.setFieldsValue({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",coreSize:3,queueSize:10,timeoutMinutes:5})});var j=(0,m.useState)([]),t=p()(j,2),w=t[0],z=t[1];(0,m.useEffect)(function(){(0,W.fl)().then(function(I){I.success&&z(I.data)})},[]);var L=(0,m.useState)(!1),D=p()(L,2),N=D[0],M=D[1],U=(0,m.useState)(""),k=p()(U,2),E=k[0],R=k[1],F=function(){M(!0)},P=function(){b.setFieldsValue({subChannels:E.split(`
`)}),M(!1)},Y=function(){M(!1)};return(0,e.jsxs)(a.Z,{form:b,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:[(0,e.jsxs)(de.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(V.Z,{type:"inner",title:s.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableFastToRelax"}),name:"enableFastToRelax",valuePropName:"checked",tooltip:s.formatMessage({id:"pages.account.enableFastToRelaxTips"}),children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(T.Z,{allowClear:!0,children:[(0,e.jsx)(T.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(T.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(T.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",children:(0,e.jsxs)(T.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(T.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(T.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(T.Z.Option,{value:"TURBO",children:"TURBO"})]})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(V.Z,{type:"inner",title:s.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(y.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(y.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(y.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",children:(0,e.jsx)(y.Z,{min:-1})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(V.Z,{type:"inner",title:s.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(T.Z,{options:w,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(y.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(y.Z,{min:1,suffix:s.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(d.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.fishingTime"}),help:s.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(d.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)($.ZP,{type:"primary",style:{marginTop:"10px"},onClick:function(){F()},icon:(0,e.jsx)(Ie.Z,{})}),children:(0,e.jsx)(d.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:5}})})]})})]}),(0,e.jsxs)(xe.Z,{title:s.formatMessage({id:"pages.account.subChannels"}),visible:N,onOk:P,onCancel:Y,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(je.Z,{message:s.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(d.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:E,onChange:function(O){R(O.target.value)}})]})]})},Be=Fe,De=function(v){var b=v.form,i=v.onSubmit,s=v.record,j=(0,se.useIntl)(),t=oe.ZP.useNotification(),w=p()(t,2),z=w[0],L=w[1],D=(0,m.useState)(),N=p()(D,2),M=N[0],U=N[1],k=(0,m.useState)(!1),E=p()(k,2),R=E[0],F=E[1];(0,m.useEffect)(function(){U(s)},[]);var P=function(){var I=X()(S()().mark(function O(){var Z;return S()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return F(!0),r.next=3,(0,W.qG)(s.id);case 3:Z=r.sent,F(!1),Z.success&&U(Z.data);case 6:case"end":return r.stop()}},O)}));return function(){return I.apply(this,arguments)}}(),Y=function(){var I=X()(S()().mark(function O(){var Z;return S()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return F(!0),r.next=3,(0,W.eD)(s.id);case 3:Z=r.sent,F(!1),Z.success&&(z.success({message:"success",description:"Success"}),i(M));case 6:case"end":return r.stop()}},O)}));return function(){return I.apply(this,arguments)}}();return(0,e.jsxs)(a.Z,{form:b,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:[L,(0,e.jsx)(de.Z,{gutter:16,children:(0,e.jsxs)(_.Z,{span:24,style:{padding:12},children:[M&&(0,e.jsx)("a",{target:"_blank",rel:"noreferrer",href:M==null?void 0:M.cfUrl,children:(M==null?void 0:M.cfUrl)||"-"}),(0,e.jsx)("br",{}),(0,e.jsxs)(re.Z,{style:{marginTop:12},children:[(0,e.jsx)($.ZP,{onClick:P,loading:R,type:"default",children:j.formatMessage({id:"pages.account.cfRefresh"})}),(0,e.jsx)($.ZP,{onClick:Y,loading:R,type:"primary",children:j.formatMessage({id:"pages.account.cfok"})})]})]})})]})},Ne=De,le=l(66309),ce=l(83062),h=l(26412),Ue=l(27484),Pe=l.n(Ue),ze=T.Z.Option,Le=function(v){var b,i=v.record,s=v.onSuccess,j=oe.ZP.useNotification(),t=p()(j,2),w=t[0],z=t[1],L=(0,m.useState)(""),D=p()(L,2),N=D[0],M=D[1],U=(0,m.useState)([]),k=p()(U,2),E=k[0],R=k[1],F=(0,m.useState)([]),P=p()(F,2),Y=P[0],I=P[1],O=(0,m.useState)(!1),Z=p()(O,2),H=Z[0],r=Z[1],me=(0,m.useState)(""),ee=p()(me,2),ue=ee[0],ge=ee[1],c=(0,se.useIntl)();(0,m.useEffect)(function(){M(i.version),R(i.buttons),I(i.nijiButtons)},[i]);var fe=function(u,B,G){var ne=u?"green":"volcano",f=u?B:G;return(0,e.jsx)(le.Z,{color:ne,children:f})},J=function(u){return!u||u.length<25?u:(0,e.jsx)(ce.Z,{title:u,children:u.substring(0,25)+"..."})},x=function(u){return Pe()(u).format("YYYY-MM-DD HH:mm")},pe=function(){var u;return(u=i.versionSelector)===null||u===void 0?void 0:u.map(function(B){return(0,e.jsxs)(ze,{value:B.customId,children:[B.emoji," ",B.label]},B.customId)})},ae=function(){return E.map(function(u){return(0,e.jsxs)($.ZP,{ghost:!0,style:{backgroundColor:u.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){K("MID_JOURNEY",u.customId)},loading:ue=="MID_JOURNEY:"+u.customId,children:[u.emoji," ",u.label]},"MID_JOURNEY:"+u.customId)})},ie=function(){return Y.map(function(u){return(0,e.jsxs)($.ZP,{ghost:!0,style:{backgroundColor:u.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){K("NIJI_JOURNEY",u.customId)},loading:ue=="NIJI_JOURNEY:"+u.customId,children:[u.emoji," ",u.label]},"NIJI_JOURNEY:"+u.customId)})},Ze=function(){var Q=X()(S()().mark(function u(B){var G;return S()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return M(B),r(!0),f.next=4,(0,W.p3)(i.id,B);case 4:G=f.sent,G.success?(r(!1),w.success({message:"success",description:c.formatMessage({id:"pages.account.mjVersionSuccess"})}),s()):(M(i.version),r(!1),w.error({message:"error",description:G.message}));case 6:case"end":return f.stop()}},u)}));return function(B){return Q.apply(this,arguments)}}(),K=function(){var Q=X()(S()().mark(function u(B,G){var ne;return S()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(ue===""){o.next=2;break}return o.abrupt("return");case 2:return ge(B+":"+G),o.next=5,(0,W.wO)(i.id,B,G);case 5:ne=o.sent,ge(""),ne.success?s():w.error({message:"error",description:ne.message});case 8:case"end":return o.stop()}},u)}));return function(B,G){return Q.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[z,(0,e.jsx)(V.Z,{type:"inner",title:c.formatMessage({id:"pages.account.info"}),style:{margin:"5px"},children:(0,e.jsxs)(h.Z,{column:3,children:[(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.guildId"}),children:i.guildId}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.channelId"}),children:i.channelId}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.userToken"}),children:J(i.userToken)}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.botToken"}),children:J(i.botToken)}),(0,e.jsxs)(h.Z.Item,{label:"User Agent",children:[J(i.userAgent)," "]}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.remixAutoSubmit"}),children:fe(i.remixAutoSubmit,c.formatMessage({id:"pages.yes"}),c.formatMessage({id:"pages.no"}))}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.mjChannelId"}),children:i.privateChannelId}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.nijiChannelId"}),children:i.nijiBotChannelId})]})}),(0,e.jsx)(V.Z,{type:"inner",title:c.formatMessage({id:"pages.account.basicInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(h.Z,{column:3,children:[(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.status"}),children:fe(i.enable,c.formatMessage({id:"pages.enable"}),c.formatMessage({id:"pages.disable"}))}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.mjMode"}),children:i.displays.mode}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.nijiMode"}),children:i.displays.nijiMode}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.subscribePlan"}),children:i.displays.subscribePlan}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.billedWay"}),children:i.displays.billedWay}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.renewDate"}),children:i.displays.renewDate}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.fastTimeRemaining"}),children:i.fastTimeRemaining}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.relaxedUsage"}),children:i.relaxedUsage}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.fastUsage"}),children:i.fastUsage}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.turboUsage"}),children:i.turboUsage}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.lifetimeUsage"}),children:i.lifetimeUsage})]})}),(0,e.jsx)(V.Z,{type:"inner",title:c.formatMessage({id:"pages.account.otherInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(h.Z,{column:3,children:[(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.coreSize"}),children:i.coreSize}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.queueSize"}),children:i.queueSize}),(0,e.jsxs)(h.Z.Item,{label:c.formatMessage({id:"pages.account.timeoutMinutes"}),children:[i.timeoutMinutes," ",c.formatMessage({id:"pages.minutes"})]}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.weight"}),children:i.weight}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.dateCreated"}),children:x(i.dateCreated)}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.remark"}),children:J(i.remark)}),(0,e.jsx)(h.Z.Item,{label:c.formatMessage({id:"pages.account.disabledReason"}),children:J(i.disabledReason)})]})}),(0,e.jsxs)(V.Z,{type:"inner",title:c.formatMessage({id:"pages.account.mjSettings"}),style:{margin:"5px"},children:[(0,e.jsx)(T.Z,{style:{width:"35%"},placeholder:(b=i.versionSelector)===null||b===void 0?void 0:b.placeholder,value:N,onChange:Ze,loading:H,children:pe()}),(0,e.jsx)(re.Z,{wrap:!0,style:{marginTop:"5px"},children:ae()})]}),(0,e.jsx)(V.Z,{type:"inner",title:c.formatMessage({id:"pages.account.nijiSettings"}),style:{margin:"5px"},children:(0,e.jsx)(re.Z,{wrap:!0,style:{marginTop:"5px"},children:ie()})})]})},Ee=Le,$e=function(v){var b=v.form,i=v.onSubmit,s=v.record,j=v.r,t=(0,se.useIntl)();(0,m.useEffect)(function(){b.setFieldsValue(s)},[]),(0,m.useEffect)(function(){b.setFieldsValue(s)},[j]);var w=(0,m.useState)([]),z=p()(w,2),L=z[0],D=z[1];(0,m.useEffect)(function(){(0,W.fl)().then(function(Z){Z.success&&D(Z.data)})},[]);var N=(0,m.useState)(!1),M=p()(N,2),U=M[0],k=M[1],E=(0,m.useState)(""),R=p()(E,2),F=R[0],P=R[1],Y=function(){k(!0)},I=function(){s.subChannels=F.split(`
`),b.setFieldsValue({subChannels:F.split(`
`)}),k(!1)},O=function(){k(!1)};return(0,e.jsxs)(a.Z,{form:b,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:[(0,e.jsxs)(de.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(V.Z,{type:"inner",title:t.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(d.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(d.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableFastToRelax"}),name:"enableFastToRelax",valuePropName:"checked",tooltip:t.formatMessage({id:"pages.account.enableFastToRelaxTips"}),children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(T.Z,{allowClear:!0,children:[(0,e.jsx)(T.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(T.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(T.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",tooltip:"\u5982\u679C\u7528\u6237\u6307\u5B9A\u6A21\u5F0F\u6216\u6DFB\u52A0\u4E86\u81EA\u5B9A\u4E49\u53C2\u6570\u4F8B\u5982 --fast\uFF0C\u4F46\u662F\u8D26\u53F7\u4E0D\u5141\u8BB8 FAST\uFF0C\u5219\u81EA\u52A8\u79FB\u9664\u6B64\u53C2\u6570",children:(0,e.jsxs)(T.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(T.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(T.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(T.Z.Option,{value:"TURBO",children:"TURBO"})]})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(V.Z,{type:"inner",title:t.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(y.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(y.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(y.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",extra:s.dayDrawCount>0&&(0,e.jsxs)("span",{children:[t.formatMessage({id:"pages.account.dayDrawCount"})," ",s.dayDrawCount]}),children:(0,e.jsx)(y.Z,{min:-1})})]})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(V.Z,{type:"inner",title:t.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(A.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(T.Z,{options:L,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(y.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(y.Z,{min:1,suffix:t.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(d.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.fishingTime"}),help:t.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(d.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)($.ZP,{type:"primary",style:{marginTop:"10px"},onClick:function(){P(b.getFieldValue("subChannels").join(`
`)),Y()},icon:(0,e.jsx)(Ie.Z,{})}),children:(0,e.jsx)(d.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:5}})})]})})]}),(0,e.jsxs)(xe.Z,{title:t.formatMessage({id:"pages.account.subChannels"}),visible:U,onOk:I,onCancel:O,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(je.Z,{message:t.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(d.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:F,onChange:function(H){P(H.target.value)}})]}),(0,e.jsx)(je.Z,{message:t.formatMessage({id:"pages.account.updateNotice"}),type:"warning",style:{marginTop:"10px"}})]})},Ve=$e,He=function(v){var b=v.form,i=v.onSubmit,s=v.record,j=(0,se.useIntl)();return(0,m.useEffect)(function(){b.setFieldsValue(s)}),(0,e.jsx)(a.Z,{form:b,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:(0,e.jsxs)(de.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:12,children:(0,e.jsxs)(V.Z,{type:"inner",title:j.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(A.Z,{})})]})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsxs)(V.Z,{type:"inner",title:j.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(y.Z,{min:1,suffix:j.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(y.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(d.Z,{})}),(0,e.jsx)(a.Z.Item,{label:j.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(y.Z,{})})]})})]})})},Je=He,Ye=l(94149),Xe=l(66212),We=l(3355),Qe=l(2830),Ge=l(47389),Ke=l(88360),qe=l(90930),_e=l(17873),ea=function(){var v=(0,m.useState)(!1),b=p()(v,2),i=b[0],s=b[1],j=(0,m.useState)(!1),t=p()(j,2),w=t[0],z=t[1],L=(0,m.useState)((0,e.jsx)(e.Fragment,{})),D=p()(L,2),N=D[0],M=D[1],U=(0,m.useState)(""),k=p()(U,2),E=k[0],R=k[1],F=(0,m.useState)(1e3),P=p()(F,2),Y=P[0],I=P[1],O=a.Z.useForm(),Z=p()(O,1),H=Z[0],r=oe.ZP.useNotification(),me=p()(r,2),ee=me[0],ue=me[1],ge=(0,m.useState)(!1),c=p()(ge,2),fe=c[0],J=c[1],x=(0,se.useIntl)(),pe=(0,m.useRef)(),ae=function(){M((0,e.jsx)(e.Fragment,{})),s(!1),z(!1)},ie=function(o,n,g){H.resetFields(),R(o),M(n),I(g),s(!0)},Ze=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)($.ZP,{onClick:ae,children:x.formatMessage({id:"pages.cancel"})},"back"),(0,e.jsx)($.ZP,{type:"primary",loading:fe,onClick:function(){return H.submit()},children:x.formatMessage({id:"pages.submit"})},"submit")]}),K=function(){var o;ae(),(o=pe.current)===null||o===void 0||o.reload()},Q=function(){var f=X()(S()().mark(function o(n){var g;return S()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),J(!0),C.next=5,(0,W.o1)(n);case 5:g=C.sent,J(!1),console.log("res",g),g.success?(ee.success({message:"success",description:g.message}),ae(),K()):ee.error({message:"error",description:g.message});case 9:case"end":return C.stop()}},o)}));return function(n){return f.apply(this,arguments)}}(),u=function(){var f=X()(S()().mark(function o(n){var g;return S()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),J(!0),C.next=5,(0,W.MS)(n.id,n);case 5:g=C.sent,g.success?(ee.success({message:"success",description:g.message}),ae(),K(),J(!1)):ee.error({message:"error",description:g.message});case 7:case"end":return C.stop()}},o)}));return function(n){return f.apply(this,arguments)}}(),B=function(){var f=X()(S()().mark(function o(n){var g;return S()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),J(!0),C.next=5,(0,W.Vx)(n.id,n);case 5:g=C.sent,g.success?ee.success({message:"success",description:g.message}):ee.error({message:"error",description:g.message}),ae(),K(),J(!1);case 10:case"end":return C.stop()}},o)}));return function(n){return f.apply(this,arguments)}}(),G=function(){var f=X()(S()().mark(function o(){return S()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:J(!0),ae(),K(),J(!1);case 4:case"end":return g.stop()}},o)}));return function(){return f.apply(this,arguments)}}(),ne=[{title:x.formatMessage({id:"pages.account.guildId"}),dataIndex:"guildId",width:200,align:"center",render:function(o,n){return(0,e.jsx)("a",{onClick:function(){z(!0),ie(x.formatMessage({id:"pages.account.info"})+" - "+n.id,(0,e.jsx)(Ee,{record:n,onSuccess:K}),1100)},children:o})}},{title:x.formatMessage({id:"pages.account.channelId"}),dataIndex:"channelId",align:"center",width:200},{title:"".concat(x.formatMessage({id:"pages.account.status"})),dataIndex:"enable",width:200,align:"center",request:function(){var f=X()(S()().mark(function n(){return S()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.abrupt("return",[{label:x.formatMessage({id:"pages.enable"}),value:!0},{label:x.formatMessage({id:"pages.disable"}),value:!1}]);case 1:case"end":return q.stop()}},n)}));function o(){return f.apply(this,arguments)}return o}(),render:function(o,n){var g=o?"green":"volcano",q=o?x.formatMessage({id:"pages.enable"}):x.formatMessage({id:"pages.disable"});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(le.Z,{color:g,children:q}),n.lock&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(Ye.Z,{}),color:"warning",children:(0,e.jsx)(ce.Z,{title:x.formatMessage({id:"pages.account.lockmsg"}),children:x.formatMessage({id:"pages.account.lock"})})}),o&&!n.running&&!n.lock&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(he.Z,{}),color:"error",children:x.formatMessage({id:"pages.account.notRunning"})}),(n==null?void 0:n.runningCount)>0&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(he.Z,{spin:!0}),color:"cyan",children:(0,e.jsx)(ce.Z,{title:x.formatMessage({id:"pages.account.runningCount"})+" "+n.runningCount,children:(n==null?void 0:n.runningCount)||0})}),(n==null?void 0:n.queueCount)>0&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(Xe.Z,{}),color:"processing",children:(0,e.jsx)(ce.Z,{title:x.formatMessage({id:"pages.account.queueCount"})+" "+n.queueCount,children:n.queueCount||0})})]})}},{title:x.formatMessage({id:"pages.account.fastTimeRemaining"}),dataIndex:"fastTimeRemaining",ellipsis:!0,width:200,hideInSearch:!0,align:"center"},{title:x.formatMessage({id:"pages.account.renewDate"}),dataIndex:"renewDate",align:"center",width:160,hideInSearch:!0,render:function(o,n){return n.displays.renewDate}},{title:x.formatMessage({id:"pages.account.sponsor"}),dataIndex:"sponsor",ellipsis:!0,width:100,render:function(o,n){return(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:n.sponsor||"-"}})}},{title:x.formatMessage({id:"pages.account.remark"}),dataIndex:"remark",ellipsis:!0,width:150},{title:x.formatMessage({id:"pages.account.disabledReason"}),dataIndex:"disabledReason",ellipsis:!0,width:150,hideInSearch:!0},{title:x.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:220,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(o,n){return(0,e.jsxs)(re.Z,{children:[n.lock&&(0,e.jsx)($.ZP,{icon:(0,e.jsx)(We.Z,{}),type:"dashed",onClick:function(){return ie(x.formatMessage({id:"pages.account.cfmodal"}),(0,e.jsx)(Ne,{form:H,record:n,onSubmit:G}),1e3)}},"Lock"),(0,e.jsx)(Oe,{record:n,onSuccess:K}),(0,e.jsx)(ce.Z,{title:x.formatMessage({id:"pages.account.updateAndReconnect"}),children:(0,e.jsx)($.ZP,{type:"primary",icon:(0,e.jsx)(Qe.Z,{}),onClick:function(){ie(x.formatMessage({id:"pages.account.updateAndReconnect"}),(0,e.jsx)(Ve,{r:Math.random(),form:H,record:n,onSubmit:u}),1600)}},"EditAndReconnect")}),(0,e.jsx)($.ZP,{icon:(0,e.jsx)(Ge.Z,{}),onClick:function(){return ie(x.formatMessage({id:"pages.account.update"}),(0,e.jsx)(Je,{form:H,record:n,onSubmit:B}),1e3)}},"Update"),(0,e.jsx)(Ae,{record:n,onSuccess:K})]})}}];return(0,m.useEffect)(function(){},[]),(0,e.jsxs)(qe._z,{children:[ue,(0,e.jsx)(V.Z,{children:(0,e.jsx)(_e.Z,{columns:ne,scroll:{x:1e3},search:{defaultCollapsed:!0},pagination:{pageSize:10,showQuickJumper:!1,showSizeChanger:!1},rowKey:"id",actionRef:pe,toolBarRender:function(){return[(0,e.jsx)($.ZP,{type:"primary",icon:(0,e.jsx)(Ke.Z,{}),onClick:function(){ie(x.formatMessage({id:"pages.account.add"}),(0,e.jsx)(Be,{form:H,onSubmit:Q}),1600)},children:x.formatMessage({id:"pages.add"})},"primary")]},request:function(){var f=X()(S()().mark(function o(n){var g;return S()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,W.fH)(Me()(Me()({},n),{},{pageNumber:n.current-1}));case 2:return g=C.sent,C.abrupt("return",{data:g.list,total:g.pagination.total,success:!0});case 4:case"end":return C.stop()}},o)}));return function(o){return f.apply(this,arguments)}}()})}),(0,e.jsx)(xe.Z,{title:E,open:i,onCancel:ae,footer:w?null:Ze,width:Y,children:N})]})},aa=ea}}]);
