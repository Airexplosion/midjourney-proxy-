"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[971],{23391:function(G,I,t){t.r(I),t.d(I,{default:function(){return U}});var b=t(5574),u=t.n(b),g=t(67294),D=t(74981),K=t(90252),Q=t(22777),e=t(85893),J=function(c){var f=c.value,i=f===void 0?{}:f,s=c.onChange,S=g.useState(JSON.stringify(i,null,2)),d=u()(S,2),m=d[0],l=d[1],h=g.useState(!0),x=u()(h,2),M=x[0],o=x[1];(0,g.useEffect)(function(){var R=JSON.stringify(i),v=JSON.stringify(JSON.parse(m));R!==v&&l(JSON.stringify(i,null,2))},[i]);var j=function(v){l(v);try{var V=JSON.parse(v);o(!0),s&&s(V)}catch(X){o(!1)}};return(0,e.jsxs)("div",{style:{width:"100%"},children:[(0,e.jsx)(D.ZP,{mode:"json",theme:"textmate",value:m,onChange:j,name:"json-editor",editorProps:{$blockScrolling:!0},height:"auto",maxLines:1/0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,useWorker:!1},style:{width:"100%",minHeight:"80px"},fontSize:14,lineHeight:19,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0}),!M&&(0,e.jsx)("div",{style:{color:"red",marginTop:"8px"},children:"JSON \u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u8F93\u5165\uFF01"})]})},r=J,C=t(66927),N=t(60219),P=t(90930),B=t(80854),a=t(53025),p=t(2453),A=t(74330),E=t(42075),$=t(40056),T=t(14726),z=t(71230),F=t(15746),L=t(4393),n=t(74656),Z=t(55102),y=t(37804),O=t(72269),H=function(){var c=a.Z.useForm(),f=u()(c,1),i=f[0],s=(0,B.useIntl)(),S=(0,g.useState)(!1),d=u()(S,2),m=d[0],l=d[1],h=function(){l(!0),(0,C.iE)().then(function(o){l(!1),o.success&&i.setFieldsValue(o.data)})};(0,g.useEffect)(function(){h()},[]);var x=function(){i.validateFields().then(function(o){l(!0),(0,C.rF)(o).then(function(j){l(!1),j.success?(p.ZP.success(s.formatMessage({id:"pages.setting.saveSuccess"})),h()):p.ZP.error(j.message||s.formatMessage({id:"pages.setting.error"}))})}).catch(function(){p.ZP.error(s.formatMessage({id:"pages.setting.error"}))})};return(0,e.jsx)(P._z,{children:(0,e.jsx)(a.Z,{form:i,labelAlign:"left",layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18},children:(0,e.jsxs)(A.Z,{spinning:m,children:[(0,e.jsxs)(E.Z,{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between"},children:[(0,e.jsx)($.Z,{type:"info",style:{paddingTop:"4px",paddingBottom:"4px"},description:s.formatMessage({id:"pages.setting.tips"})}),(0,e.jsx)(T.ZP,{loading:m,icon:(0,e.jsx)(N.Z,{}),type:"primary",onClick:x,children:s.formatMessage({id:"pages.setting.save"})})]}),(0,e.jsxs)(z.Z,{gutter:16,children:[(0,e.jsx)(F.Z,{span:12,children:(0,e.jsxs)(L.Z,{title:s.formatMessage({id:"pages.setting.accountSetting"}),bordered:!1,children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.accountChooseRule"}),name:"accountChooseRule",children:(0,e.jsxs)(n.Z,{allowClear:!0,children:[(0,e.jsx)(n.Z.Option,{value:"BestWaitIdle",children:"BestWaitIdle"}),(0,e.jsx)(n.Z.Option,{value:"Random",children:"Random"}),(0,e.jsx)(n.Z.Option,{value:"Weight",children:"Weight"}),(0,e.jsx)(n.Z.Option,{value:"Polling",children:"Polling"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.discordConfig"}),name:"ngDiscord",children:(0,e.jsx)(r,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.proxyConfig"}),name:"proxy",children:(0,e.jsx)(r,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.translate"}),name:"translateWay",children:(0,e.jsxs)(n.Z,{allowClear:!0,children:[(0,e.jsx)(n.Z.Option,{value:"NULL",children:"NULL"}),(0,e.jsx)(n.Z.Option,{value:"BAIDU",children:"BAIDU"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.baiduTranslate"}),name:"baiduTranslate",children:(0,e.jsx)(r,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.smtp"}),name:"smtp",children:(0,e.jsx)(r,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.notifyHook"}),name:"notifyHook",children:(0,e.jsx)(Z.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.notifyPoolSize"}),name:"notifyPoolSize",children:(0,e.jsx)(y.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.captchaServer"}),name:"captchaServer",children:(0,e.jsx)(Z.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.captchaNotifyHook"}),name:"captchaNotifyHook",children:(0,e.jsx)(Z.Z,{})})]})}),(0,e.jsx)(F.Z,{span:12,children:(0,e.jsxs)(L.Z,{title:s.formatMessage({id:"pages.setting.otherSetting"}),bordered:!1,children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.enableRegister"}),name:"enableRegister",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.registerUserDefaultDayLimit"}),name:"registerUserDefaultDayLimit",children:(0,e.jsx)(y.Z,{min:-1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.enableGuest"}),name:"enableGuest",children:(0,e.jsx)(O.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.guestDefaultDayLimit"}),name:"guestDefaultDayLimit",children:(0,e.jsx)(y.Z,{min:-1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.ipRateLimiting"}),name:"ipRateLimiting",children:(0,e.jsx)(r,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.setting.ipBlackRateLimiting"}),name:"ipBlackRateLimiting",children:(0,e.jsx)(r,{})})]})})]})]})})})},U=H}}]);
